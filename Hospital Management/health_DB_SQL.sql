show databases;
CREATE DATABASE Health;
use Health;
show tables;

CREATE TABLE Patients (
    Patient_ID INT NOT NULL,
    Patient_Name VARCHAR(20) not null,
    Patient_Address VARCHAR(20) not null,
    PRIMARY KEY (Patient_ID)
);


INSERT INTO  Patients values( 100, "Ada Ga", "243 Boulevard Street" );
INSERT INTO  Patients values( 101, "Abuntis Moor", "Little Asia" );
INSERT INTO  Patients values( 102, "Card Jesse", "E Tahei Blvd" );
INSERT INTO  Patients values( 103, "Raghav Jai", "N Senryo Ave" );
INSERT INTO  Patients values( 104, "Jeet Mata", "243 Boulevard Street" );


CREATE TABLE HOSPITALS(
	HOSPITAL_ID INT NOT NULL,
    HOSPITAL_NAME  VARCHAR(20) NOT NULL,
    HOSPITAL_ADDRESS VARCHAR(20) NOT NULL,
    DOCTOR_ID INT NOT NULL,
    PRIMARY KEY (HOSPITAL_ID, DOCTOR_ID)
);



INSERT INTO  HOSPITALS values( 1000, "Apollo Hospital", "243 Boulevard Street",1 );
INSERT INTO  HOSPITALS values( 1001, "Max Care Hospital", "Requiem,Thallaserry",2 );
INSERT INTO  HOSPITALS values( 1002, "Care Hospital", "Showa Street",3 );
INSERT INTO  HOSPITALS values( 1000, "Apollo Hospital", "243 Boulevard Street",2 );
INSERT INTO  HOSPITALS values( 1001, "Max Care Hospital", "Requiem, Thallaserry",3 );

CREATE TABLE DOCTORS(
	DOCTOR_ID INT NOT NULL,
    DOCTOR_NAME  VARCHAR(20) NOT NULL,
    SALARY INT NOT NULL,
    PRIMARY KEY (DOCTOR_ID)
);

INSERT INTO  DOCTORS values( 1, "Dr.Abilasha Baud", 750000 );
INSERT INTO  DOCTORS values( 2, "Dr.A Anitha", 800000 );
INSERT INTO  DOCTORS values( 3, "Dr.Abhishek Nimagada", 850000 );

CREATE TABLE MEDICAL_RECORD(
	PATIENT_ID INT NOT NULL,
    RECORD_ID INT NOT NULL,
    DATE_OF_TESTING varchar(20) NOT NULL,
    PATIENT_DIAGNOSIS VARCHAR(20) NOT NULL,
    PRIMARY KEY(PATIENT_ID,RECORD_ID)
);


INSERT INTO  MEDICAL_RECORD values( 100,100, "27/03/2021", "Fever" );
INSERT INTO  MEDICAL_RECORD values( 101,101, "31/03/2021", "Covid" );
INSERT INTO  MEDICAL_RECORD values( 102,102, "2/04/2021", "Flu" );
INSERT INTO  MEDICAL_RECORD values( 103,103, "4/04/2021", "Cancer" );
INSERT INTO  MEDICAL_RECORD values( 104,104, "5/04/2021", "Heart Patient" );

CREATE TABLE ADMITTED(
	PATIENT_ID INT NOT NULL,
    HOSPITAL_ID INT NOT NULL,
	PRIMARY KEY(PATIENT_ID, HOSPITAL_ID)
);



INSERT INTO  ADMITTED values( 100, 1000 );
INSERT INTO  ADMITTED values( 101, 1001 );
INSERT INTO  ADMITTED values( 102, 1000 );
INSERT INTO  ADMITTED values( 103, 1002 );
INSERT INTO  ADMITTED values( 104, 1001 );


CREATE TABLE MR_SYMPTOMS(
	PATIENT_ID INT NOT NULL,
    RECORD_ID INT NOT NULL,
    SYMPTOMS varchar(20) NOT NULL,
    primary key (PATIENT_ID, RECORD_ID)
);



INSERT INTO  MR_SYMPTOMS values( 100, 100, "High Temperature" );
INSERT INTO  MR_SYMPTOMS values( 101, 101, "Tastelessness" );
INSERT INTO  MR_SYMPTOMS values( 102, 102, "Vomit" );
INSERT INTO  MR_SYMPTOMS values( 103, 103, "BAD Cell Growth" );
INSERT INTO  MR_SYMPTOMS values( 104, 104, "Cardiac Arrest" );



CREATE TABLE DOCTOR_QUALIFICATION(
	DOCTOR_ID INT NOT NULL,
    QUALIFICATION VARCHAR(20) NOT NULL,
    PRIMARY KEY (DOCTOR_ID)
);


INSERT INTO DOCTOR_QUALIFICATION values( 1, "MBBS" );
INSERT INTO DOCTOR_QUALIFICATION values( 2, "MBBS" );
INSERT INTO DOCTOR_QUALIFICATION values( 3, "MBBS" );


ALTER TABLE HOSPITALS
ADD FOREIGN KEY(DOCTOR_ID) references DOCTORS(DOCTOR_ID);

ALTER TABLE MEDICAL_RECORD
ADD FOREIGN KEY(PATIENT_ID) references Patients(PATIENT_ID);

ALTER TABLE ADMITTED
ADD FOREIGN KEY(PATIENT_ID) references Patients(PATIENT_ID);

ALTER TABLE ADMITTED
ADD FOREIGN KEY(HOSPITAL_ID) references HOSPITALS(HOSPITAL_ID);


ALTER TABLE MR_SYMPTOMS
ADD FOREIGN KEY(PATIENT_ID) references Patients(PATIENT_ID);

/*ALTER TABLE MR_SYMPTOMS
ADD FOREIGN KEY(RECORD_ID) references MEDICAL_RECORD(RECORD_ID);
*/
ALTER TABLE DOCTOR_QUALIFICATION
ADD FOREIGN KEY(DOCTOR_ID) references DOCTORS(DOCTOR_ID);
